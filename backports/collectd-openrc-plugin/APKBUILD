# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>

# Note: There's already collectd-openrc package - a subpackage of collectd with init script.
pkgname=collectd-openrc-plugin
_projname=collectd-openrc
pkgver=0.1.0
pkgrel=0
pkgdesc="Collectd plugin that collects information about APK packages"
url="https://github.com/jirutka/collectd-apk"
arch="all"
license="GPL-2.0-only"
depends="collectd>=5.12"
makedepends="
	collectd-dev
	json-c-dev
	openrc-dev
	"
source="https://github.com/jirutka/collectd-openrc/archive/v$pkgver/collectd-openrc-$pkgver.tar.gz"
builddir="$srcdir/$_projname-$pkgver"

build() {
	make
}

check() {
	make check
}

package() {
	make install DESTDIR="$pkgdir"
}

sha512sums="
10d55d821e88c5d01a8d53517f91cc9d93f26bb8d639d80c2fefd4a7486e33a4e33e83a05045f4770440a84265248b9301e645a052ce400ee3ea3ddfd5306a80  collectd-openrc-0.1.0.tar.gz
"
